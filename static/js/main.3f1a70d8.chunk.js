(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{113:function(e,t,a){e.exports={logo:"Header_logo__3bgzu",breadcrumbs:"Header_breadcrumbs__1cRZo"}},178:function(e,t,a){e.exports={content:"Layout_content__sw4MU"}},203:function(e,t,a){e.exports=a(353)},208:function(e,t,a){},27:function(e,t,a){e.exports={loader:"Search_loader__zZl5o",errorMessage:"Search_errorMessage__raWh8",searchbarContainer:"Search_searchbarContainer__1FhpQ",searchbar:"Search_searchbar__13t4-",filtersContainer:"Search_filtersContainer__1l8NY",filtersBtn:"Search_filtersBtn__tHLiT",filterIcon:"Search_filterIcon__18gLd",clearFiltersBtn:"Search_clearFiltersBtn__14L87",bookList:"Search_bookList__3f6Z1",btnAddProduct:"Search_btnAddProduct__1HERY"}},28:function(e,t,a){e.exports={productContainer:"Product_productContainer__vsrZy",productBasicInfo:"Product_productBasicInfo__2xBFR",productInfo:"Product_productInfo__2najC",productImageContainer:"Product_productImageContainer__1m_fO",productImage:"Product_productImage__2D1Hq",productAuthor:"Product_productAuthor__2flKn",productTitle:"Product_productTitle__1IfV0",productDescription:"Product_productDescription__2A85w",productButton:"Product_productButton__LBiUy",otherProductsContainer:"Product_otherProductsContainer__1pUMO",relatedProduct:"Product_relatedProduct__ydA9J",relatedProductImage:"Product_relatedProductImage__DfdZl"}},306:function(e,t,a){},32:function(e,t,a){e.exports={formContainer:"AddProduct_formContainer__20G8m",addBookForm:"AddProduct_addBookForm__xzFd4",addImageBtnContainer:"AddProduct_addImageBtnContainer__3dfNs",addImageBtn:"AddProduct_addImageBtn__2-iy0",submitBtnContainer:"AddProduct_submitBtnContainer__376y5",submitBtn:"AddProduct_submitBtn__htWHp",errorMessage:"AddProduct_errorMessage__1bIfS",successMessage:"AddProduct_successMessage__2--Yv",enter:"AddProduct_enter__2VbLr",successMessageIcon:"AddProduct_successMessageIcon__UiT3a"}},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(49),c=a.n(o),l=(a(208),a(29)),i=a(43),s=a(25),u=a(17),m=a(39),d=a(171),b=a.n(d),p=n.a.createContext();function f(e){var t=e.children,a=Object(r.useReducer)((function(e,t){var a=t.type,r=t.payload;switch(a){case"LOADING":return{loading:!0,error:!1,books:null};case"ERROR":return{loading:!1,error:!0,books:null};case"SET_BOOKS":return{loading:!1,error:!1,books:Object(m.a)(r).map((function(e){return{author:Object(m.a)(e.author.split(",")),description:e.description,isbn10:10===e.isbn.length?e.isbn:"",isbn13:13===e.isbn.length?e.isbn:"",pages:e.pages,publisher:e.publisher,rating:0,categories:Object(m.a)(e.author.split(",")),subtitle:e.subtitle,title:e.title,website:e.website,year:e.published.split("-")[0]}}))};case"UPDATE_BOOK_LIST":return Object(u.a)({},e,{filteredBooks:r});case"ADD_BOOK":return Object(u.a)({},e,{books:[].concat(Object(m.a)(e.books),[r])});case"UPDATE_BOOK":return Object(u.a)({},e,{books:r});default:return Object(u.a)({},e)}}),{loading:!1,error:!1,books:null,filteredBooks:null}),o=Object(s.a)(a,2),c=o[0],l=o[1];Object(r.useEffect)((function(){l({type:"LOADING",payload:{}}),b()("https://api.github.com/gists/6396437").then((function(e){var t=e.data.files["books.json"].content.replace(/'/g,"\u2019").replace(' "You Don\u2019t Know JS" '," You Don\u2019t Know JS "),a=JSON.parse(t);l({type:"SET_BOOKS",payload:a.books})})).catch((function(e){console.log(e),l({type:"ERROR",payload:{}})}))}),[]);var i={updateBooklist:Object(r.useCallback)((function(e){l({type:"UPDATE_BOOK_LIST",payload:e})}),[]),addBook:function(e){return l({type:"ADD_BOOK",payload:e})},updateBook:function(e){return l({type:"UPDATE_BOOK",payload:e})}};return n.a.createElement(p.Provider,{value:{state:c,actions:i}},t)}var _=a(369),g=a(113),E=a.n(g);function v(){var e=Object(i.g)().location.pathname,t=e.split("/").slice(0,2).filter((function(e){return""!==e})),a=t.includes("product")?e.split("/")[2]:Object(m.a)(t).join("/"),r=E.a.logo,o=E.a.breadcrumbs;return n.a.createElement("header",null,n.a.createElement("h1",{className:r},"Bookstore"),n.a.createElement(_.a,{className:o},n.a.createElement(_.a.Section,null,n.a.createElement(l.b,{to:"/"},"Home")),n.a.createElement(_.a.Divider,null),t.length>0&&t.map((function(e){return n.a.createElement(_.a.Section,{key:e},n.a.createElement(l.b,{to:a},e),n.a.createElement(_.a.Divider,null))}))))}a(306);function h(){return n.a.createElement("footer",null,n.a.createElement("p",null,"Bookstore 2020"))}var k=a(178),O=a.n(k);var j=function(e){var t=e.children,a=O.a.content;return n.a.createElement(n.a.Fragment,null,n.a.createElement(v,null),n.a.createElement("div",{className:a},t),n.a.createElement(h,null))},B=a(52),N=a(370),C=a(368),y=a(364),I=p,P=a(363),x=a(371),S=a(367),A=a(354),F=a(61),T=a.n(F);function w(e){var t=e.publisherNames,a=e.setFilters,o=e.setFiltersAreOpen,c={from:"",to:"",rating:0,publisher:null},l=Object(r.useState)(c),i=Object(s.a)(l,2),m=i[0],d=i[1],b=t.filter((function(e,a){return t.indexOf(e)===a})),p=T.a.filtersContainer,f=T.a.filterLabel,_=T.a.filter,g=T.a.filterInput,E=T.a.filterButtons;return n.a.createElement("div",{className:p},n.a.createElement("p",{className:f},"Year"),n.a.createElement("div",{className:_},n.a.createElement("p",null,"from"),n.a.createElement(P.a,{className:g,value:m.from,onChange:function(e){return d(Object(u.a)({},m,{from:e.target.value}))}}),n.a.createElement("p",null,"to"),n.a.createElement("input",{className:g,value:m.to,onChange:function(e){return d(Object(u.a)({},m,{to:e.target.value}))}})),n.a.createElement("p",{className:f},"Rating"),n.a.createElement("div",{className:_},n.a.createElement(x.a,{icon:"star",rating:m.rating,maxRating:5,onRate:function(e,t){return d(Object(u.a)({},m,{rating:t.rating}))}})),n.a.createElement("p",{className:f},"Publisher"),n.a.createElement("div",{className:_},n.a.createElement(S.a,{placeholder:m.publisher||"Select Publisher"},n.a.createElement(S.a.Menu,null,b.map((function(e){return n.a.createElement(S.a.Item,{key:e,text:e,onClick:function(e,t){return d(Object(u.a)({},m,{publisher:t.text}))}})}))))),n.a.createElement("div",{className:E},n.a.createElement(A.a,{color:"red",onClick:function(){return d(c)}},"Clear All"),n.a.createElement(A.a,{onClick:function(){a(m),o(!1)}},"Submit")))}function R(e){var t=e.book,a=Object(r.useContext)(I),o=a.state.books,c=a.actions.updateBook;return n.a.createElement(x.a,{icon:"star",rating:t.rating||0,maxRating:5,onRate:function(e,a){return function(e){var t=o.findIndex((function(t){return t.isbn13===e.isbn13})),a=Object(m.a)(o);a.splice(t,1,e),c(a)}(Object(u.a)({},t,{rating:a.rating}))}})}var D=a(62),L=a.n(D);function M(e){var t=e.animate,a=e.index,r=e.book,o=e.book,c=o.title,s=o.isbn13,u=Object(i.g)().push,m="/product/".concat(s),d=L.a.bookThumbContainer,b=L.a.bookThumb,p=L.a.bookImage,f=L.a.bookTitle,_=L.a.bookRating,g={animation:!t&&"none",animationDelay:"".concat(50*a,"ms")};return n.a.createElement("div",{className:d},n.a.createElement("div",{className:b,style:g,onClick:function(e){return function(e){e.target.className.includes(b)&&u(m)}(e)}},n.a.createElement(l.b,{to:{pathname:"/product/".concat(s),state:r}},n.a.createElement("div",{className:p},n.a.createElement("img",{src:"img/".concat(r.title,".jpg?raw=true"),alt:r.title})),n.a.createElement("div",{className:f},c)),n.a.createElement("div",{className:_},n.a.createElement(R,{book:r}))))}M.defaultProps={animate:!0};var q=a(27),K=a.n(q);var $=function(){var e=Object(r.useContext)(I),t=e.state,a=e.actions.updateBooklist,o=Object(r.useState)(!1),c=Object(s.a)(o,2),i=c[0],u=c[1],m=Object(r.useState)(null),d=Object(s.a)(m,2),b=d[0],p=d[1];Object(r.useEffect)((function(){var e;t.books&&b?(b.rating&&(e=t.books.filter((function(e){return e.rating===b.rating}))),b.from&&(e=t.books.filter((function(e){return e.year>=b.from}))),b.to&&(e=t.books.filter((function(e){return e.year<=b.to}))),b.publisher&&(e=t.books.filter((function(e){return e.publisher===b.publisher}))),a(e)):a(t.books)}),[b,t.books,a]);var f=K.a.searchbarContainer,_=K.a.searchbar,g=K.a.filtersContainer,E=K.a.filtersBtn,v=K.a.filterIcon,h=K.a.bookList,k=K.a.btnAddProduct,O=K.a.loader,j=K.a.errorMessage,P=K.a.clearFilters,x=K.a.clearFiltersBtn,S=!t.filteredBooks&&t.books;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:f},n.a.createElement("input",{className:_,type:"text",placeholder:"Categories, description, author",onChange:function(e){return function(e){var r=t.books.filter((function(t){return t.title.includes(e)||t.subtitle.includes(e)||t.description.includes(e)||t.author.includes(e)}));a(r)}(e.target.value)}}),n.a.createElement(B.a,{name:"search",size:"large"})),n.a.createElement("div",{className:g},n.a.createElement("div",{className:E,onClick:function(){return u((function(e){return!e}))}},n.a.createElement("p",null,"Filters"),n.a.createElement(B.a,{name:"filter",size:"small",className:v})),b&&n.a.createElement("div",{className:x,onClick:function(){return p(null)}},n.a.createElement(B.a,{color:"red",name:"times",className:P}),n.a.createElement("p",null,"clear filters"))),t.loading&&n.a.createElement(N.a,{className:O},n.a.createElement(C.a,{active:!0},n.a.createElement(y.a,null,"loading..."))),t.error&&n.a.createElement(N.a,{className:j},n.a.createElement(C.a,{active:!0},n.a.createElement("p",null,"Oops! Something went wrong."),n.a.createElement("p",null,"Please reload the page."))),n.a.createElement("div",{className:h},i&&t.books&&n.a.createElement(w,{publisherNames:t.books.map((function(e){return e.publisher})),filters:b,setFilters:p,setFiltersAreOpen:u}),S&&t.books.map((function(e,t){return n.a.createElement(M,{index:t,key:e.isbn13,book:e,animate:!0})})),t.filteredBooks&&t.filteredBooks.map((function(e,t){return n.a.createElement(M,{key:e.isbn13,book:e,index:t})}))),n.a.createElement("div",{className:k},n.a.createElement(l.b,{to:"/add-product"},"+")))},z=a(190);function Y(e){var t=e.books,a=e.template;return n.a.createElement(z.Carousel,{value:t,itemTemplate:a,numVisible:4,numScroll:4,responsiveOptions:[{breakpoint:"925px",numVisible:3,numScroll:3},{breakpoint:"768px",numVisible:2,numScroll:2},{breakpoint:"560px",numVisible:1,numScroll:1}]})}var V=a(28),U=a.n(V);var H=function(){var e=Object(i.h)().isbn13,t=Object(r.useContext)(I).state.books,a=Object(r.useState)(null),o=Object(s.a)(a,2),c=o[0],u=o[1];Object(r.useEffect)((function(){if(t&&t.length>0){var a=t.find((function(t){return t.isbn13===e}));u(a)}}),[t,c,e]);var m=U.a.productContainer,d=U.a.productBasicInfo,b=U.a.productImageContainer,p=U.a.productImage,f=U.a.productAuthor,_=U.a.productInfo,g=U.a.productTitle,E=U.a.productButton,v=U.a.otherProductsContainer,h=U.a.relatedProduct,k=U.a.relatedProductImage;return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement("div",{className:m},n.a.createElement("div",{className:d},n.a.createElement("div",{className:b},n.a.createElement("img",{src:"/img/".concat(c.title,".jpg"),alt:c.title,className:p})),n.a.createElement("div",{className:f},n.a.createElement(B.a,{name:"user",size:"big"}),n.a.createElement("p",null,c.author.join(", "))),n.a.createElement(R,{book:c})),n.a.createElement("div",{className:_},n.a.createElement("h2",{className:g},c.title),n.a.createElement("p",{className:"title"},c.description),n.a.createElement(A.a,{className:E},"Favorite"),n.a.createElement(A.a,{className:E},"share"),n.a.createElement("p",null,"Category: ",c.categories.join(", ")),n.a.createElement("p",null,"Year: ",c.year),n.a.createElement("p",null,"Number of pages: ",c.pages),n.a.createElement("p",null,"Publisher: ",c.publisher),n.a.createElement("p",null,"ISBN-10: ",c.isbn10),n.a.createElement("p",null,"ISBN-13: ",c.isbn13),n.a.createElement(A.a,{className:E},"BUY")),n.a.createElement("div",{className:v},n.a.createElement("p",null,"Other Books you may like"),n.a.createElement(Y,{books:t,template:function(e){return n.a.createElement("div",{className:h},n.a.createElement(l.b,{to:{pathname:"/product/".concat(e.isbn13),state:e}},n.a.createElement("div",{className:k},n.a.createElement("img",{src:"/img/".concat(e.title,".jpg"),alt:"sss",className:p})),n.a.createElement("p",null,e.title)))}}))))},J=a(21),Z=a(365),G=a(32),W=a.n(G);var Q=function(){var e=Object(r.useContext)(I).actions.addBook,t={title:{value:"",error:!1,success:!1,instructions:"Must have 10-120 letters, numbers, spaces or @\u201d#&*!",validation:/^[0-9a-zA-Z@\u201d #&*!]{10,120}$/,required:!0},description:{value:"",error:!1,success:!1,instructions:"max 512 characters and must start with the first letter be uppercase",validation:/^[A-Z].{1,512}$/,required:!0},categories:{value:"",error:!1,success:!1,instructions:'max 4 categories, seperate with ","',validation:/^.{1,60}$/,required:!0},author:{value:"",error:!1,success:!1,instructions:'max 60 characters min 5, seperate authors with ","',validation:/^.{5,60}$/,required:!0},publisher:{value:"",error:!1,success:!1,instructions:'max 60 characters min 5, max 4 categories seperated with ","',validation:/^.{5,60}$/,required:!0},year:{value:"",error:!1,success:!1,instructions:"4 digits",validation:/^[0-9]{4}$/,required:!0},pages:{value:"",error:!1,success:!1,instructions:"max 9999",validation:/^([0-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9])$/,required:!0},rating:{value:"",error:!1,success:!1,instructions:"0-5",validation:/^[0-5]$/,required:!1},isbn10:{value:"",error:!1,success:!1,instructions:"10 digits",validation:/^[0-9]{10}$/,required:!0},isbn13:{value:"",error:!1,success:!1,instructions:"13 digits",validation:/^[0-9]{13}$/,required:!0},image:{value:"",error:!1,success:!1,instructions:"invalid file",validation:/^(.*\.)(jpg|png|gif)$/,required:!1}},a=Object(r.useState)(t),o=Object(s.a)(a,2),c=o[0],l=o[1],i=Object(r.useState)(!1),m=Object(s.a)(i,2),d=m[0],b=m[1];Object(r.useEffect)((function(){var e=setTimeout((function(){b(!1)}),1e3);return function(){return clearTimeout(e)}}),[d]);var p=W.a.formContainer,f=W.a.errorMessage,_=W.a.successMessage,g=W.a.successMessageIcon,E=W.a.addBookForm,v=W.a.addImageBtnContainer,h=W.a.addImageBtn,k=W.a.submitBtn,O=W.a.submitBtnContainer,j=Object(r.useRef)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:p},n.a.createElement(Z.a,{className:E},Object.keys(c).filter((function(e){return"image"!==e})).map((function(e){var t=c[e],a=t.value,r=t.instructions,o=t.error,i=t.success;return n.a.createElement(Z.a.Field,{key:e},n.a.createElement(P.a,{className:"".concat(e,"-input"),onChange:function(t){return l(Object(u.a)({},c,Object(J.a)({},e,Object(u.a)({},c[e],{value:"categories"===e||"author"===e?[t.target.value.split(",")]:t.target.value}))))},onBlur:function(t){return function(e,t){var a;if("categories"===t){var r=e.split(","),n=r.length<=4,o=!r.map((function(e){return c[t].validation.test(e)})).some((function(e){return!e}));a=n&&o}else if("author(s)"===t){a=!e.split(",").map((function(e){return c[t].validation.test(e)})).some((function(e){return!e}))}else a=c[t].validation.test(e);l(Object(u.a)({},c,Object(J.a)({},t,Object(u.a)({},c[t],{error:!a,success:a}))))}(t.target.value,e)},value:a,placeholder:r,label:e,error:o,icon:o?"times":i&&"check"}),a&&o&&n.a.createElement("p",{className:f},r))})),n.a.createElement(Z.a.Field,{className:O},n.a.createElement(A.a,{className:k,onClick:function(){return function(){var a=Object.keys(c).filter((function(e){var t=c[e],a=t.value,r=t.validation,n=t.required;return!!(n||!n&&a)&&!r.test(a)}));if(a.length>0){var r=Object(u.a)({},c);a.forEach((function(e){r=Object(u.a)({},r,Object(J.a)({},e,Object(u.a)({},c[e],{error:!0})))})),l(r)}else{var n={};Object.keys(c).forEach((function(e){n=Object(u.a)({},n,Object(J.a)({},e,c[e].value))})),e(n),l(t),b(!0)}}()}},"Add Book")),n.a.createElement(Z.a.Field,{className:v},n.a.createElement(n.a.Fragment,null,n.a.createElement(A.a,{className:h,onClick:function(){return j.current.click()},color:c.image.error?"red":"grey"},c.image.value||n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Import image"),n.a.createElement("p",null,".jpg, .png, .gif"))),n.a.createElement("input",{ref:j,type:"file",hidden:!0,onChange:function(e){return function(e){console.log(e.target.files[0]);var t=e.target.files[0].name;l(Object(u.a)({},c,{image:Object(u.a)({},c.image,{value:t})}))}(e)}})))),d&&n.a.createElement("div",{className:_},n.a.createElement("p",null,"Book added successfully"),n.a.createElement(B.a,{className:g,name:"check",size:"huge"}))))};a(348),a(349),a(350),a(351),a(352);var X=function(){return n.a.createElement(f,null,n.a.createElement(l.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(j,null,n.a.createElement(i.d,null,n.a.createElement(i.b,{exact:!0,path:"/search",component:$}),n.a.createElement(i.b,{exact:!0,path:"/product/:isbn13",component:H}),n.a.createElement(i.b,{path:"/add-product",component:Q}),n.a.createElement(i.a,{to:"/search"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){e.exports={filtersContainer:"Filters_filtersContainer__1-Lgg",open:"Filters_open__1zxxn",filterLabel:"Filters_filterLabel__3PsV7",filter:"Filters_filter__1lzyY",filterInput:"Filters_filterInput__3RAmu",yearFilterInput:"Filters_yearFilterInput__33bjq",label:"Filters_label__2vVAz",filterButtons:"Filters_filterButtons__3ho33"}},62:function(e,t,a){e.exports={bookThumbContainer:"Book_bookThumbContainer__3YZMN",bookThumb:"Book_bookThumb__iRi8H","fade-in":"Book_fade-in__JKDYV",bookImage:"Book_bookImage__27J53",bookTitle:"Book_bookTitle__pqmVc",bookRating:"Book_bookRating__1cGCG"}}},[[203,1,2]]]);
//# sourceMappingURL=main.3f1a70d8.chunk.js.map